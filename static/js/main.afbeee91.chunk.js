(this["webpackJsonpssc-mix"]=this["webpackJsonpssc-mix"]||[]).push([[0],{291:function(e,t){},293:function(e,t){},304:function(e,t){},306:function(e,t){},333:function(e,t){},335:function(e,t){},336:function(e,t){},341:function(e,t){},343:function(e,t){},362:function(e,t){},374:function(e,t){},377:function(e,t){},452:function(e,t,a){},453:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),s=a.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(9),o=a(10),u=a(12),l=a(11),j=a(114),d=a(258),b=a(198),p=a(259),h=Object(p.a)({basename:"/ssc-mix"}),O=a(88),m=a(20),f={id:null,username:null,full_name:null,token:null,role:null,message:"",pending:!1},x="LOGIN_ACTION",v="REGISTER_ACTION",y="PENDING_ACTION",g="SET_TOKEN_ACTION",N="CLEAR_TOKEN_ACTION",k="ssc";function w(){var e;try{var t=JSON.parse(localStorage.getItem(k));e={id:t.id,username:t.username,full_name:t.full_name,token:null,role:t.role,message:null}}catch(a){localStorage.removeItem(k),e={id:null,username:null,full_name:null,token:null,role:null,message:null}}return e}var C={users:[],fetchUsersPending:!1},A="FETCH_USERS",I="FETCH_USERS_PENDING";var _={user:null,orders:[],transactions:[],pendingFetchGeneral:!1,pendingFetchTransactions:!1,pendingFetchOrders:!1},S="FETCH_USER_GENERAL_ACTION",T="PENDING_FETCH_USER_GENERAL_ACTION",E="FETCH_USER_TRANSACTIONS_ACTION",F="PENDING_FETCH_USER_TRANSACTIONS_ACTION",R="FETCH_USER_ORDERS_ACTION",U="PENDING_FETCH_USER_ORDERS_ACTION";var L={router:Object(O.b)(h),auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=w();switch(t.type){case y:return Object(m.a)(Object(m.a)({},e),{},{pending:!0});case x:case v:return Object(m.a)(Object(m.a)({},e),{},{pending:!1,message:t.payload});case g:case N:default:return Object(m.a)(Object(m.a)({},e),a)}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case A:return Object(m.a)(Object(m.a)({},e),{},{fetchUsersPending:!1,users:a});case I:return Object(m.a)(Object(m.a)({},e),{},{fetchUsersPending:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case S:return Object(m.a)(Object(m.a)({},e),{},{user:a,pendingFetchGeneral:!1});case E:return Object(m.a)(Object(m.a)({},e),{},{transactions:a,pendingFetchTransactions:!1});case R:return Object(m.a)(Object(m.a)({},e),{},{orders:a,pendingFetchOrders:!1});case T:return Object(m.a)(Object(m.a)({},e),{},{pendingFetchGeneral:!0});case F:return Object(m.a)(Object(m.a)({},e),{},{pendingFetchTransactions:!0});case U:return Object(m.a)(Object(m.a)({},e),{},{pendingFetchOrders:!0});default:return e}}},P=Object(j.b)(L),D=Object(b.a)(h),G=[d.a,D];var z,M=Object(j.d)(P,z,Object(j.c)(j.a.apply(void 0,G))),H=a(31),B=a(34),q=a(29),V=a.p+"static/media/logo.0fffdae2.png",J=a(1),W=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("img",{src:V,className:"common-logo",alt:"logo"})}}]),a}(n.Component),X=a(463),Y=a(459),K=a(461),Q=a.p+"static/media/user.1f2b6f5f.png",Z=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.router.location.pathname,a="menu-item",n="menu-item active",r=!0===this.props.isTransparent?"header transparent":"header",c=this.props.auth,s=void 0!==c.id&&null!==c.id;return Object(J.jsx)("header",{className:r,children:Object(J.jsxs)("div",{className:"header-content",children:[Object(J.jsx)("div",{className:"header-logo",children:Object(J.jsx)(W,{})}),Object(J.jsx)("div",{className:"header-menu",children:Object(J.jsxs)("ul",{className:"menu-content",children:[Object(J.jsx)("li",{className:"/"===t?n:a,children:Object(J.jsx)(q.a,{to:"/",children:"Home"})}),Object(J.jsx)("li",{className:"/contact"===t?n:a,children:Object(J.jsx)(q.a,{to:"/contact",children:"Contact"})}),Object(J.jsx)("li",{className:"/about"===t?n:a,children:Object(J.jsx)(q.a,{to:"/about",children:"About"})})]})}),Object(J.jsx)("div",{className:"header-menu auth-menu",children:s?Object(J.jsx)(X.a,{className:"menu-content",overlay:Object(J.jsx)(Y.a,{children:Object(J.jsx)(Y.a.Item,{onClick:function(){e.props.handleLogout()},children:"Logout"})}),children:Object(J.jsxs)(q.a,{to:"/users/"+c.username,children:[Object(J.jsx)(K.a,{className:"avatar",src:Q}),Object(J.jsx)("span",{className:"full-name",children:c.full_name})]})}):Object(J.jsxs)("ul",{className:"menu-content",children:[Object(J.jsx)("li",{className:"menu-item",children:Object(J.jsx)(q.a,{to:"/login",children:"Login"})}),Object(J.jsx)("li",{className:"menu-item",children:Object(J.jsx)(q.a,{to:"/register",children:"Register"})})]})})]})})}}]),a}(n.Component),$=a(38),ee=a.n($),te=a(59),ae={apiKey:"AIzaSyAJzOQIy5FVHX8LtIWUWIqH1cCruPn4-GA",authDomain:"learning-84308.firebaseapp.com",projectId:"learning-84308",storageBucket:"learning-84308.appspot.com",messagingSenderId:"461471526957",appId:"1:461471526957:web:5ad0dde5afea7a931748a4"},ne=a(194);a(454);ne.a.initializeApp(ae);var re=ne.a.firestore().collection("RIVER_CRANE").doc("ssc_lunch"),ce=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:[],error:[]},e.next=3,t.get().then((function(e){e.forEach((function(e){var t=Object(m.a)({id:e.id},e.data());a.data.push(t)}))})).catch((function(e){a.error.push(e.message)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(te.a)(ee.a.mark((function e(t){var a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:null,error:[]},e.next=3,t.limit(1).get().then((function(e){var t=null;e.forEach((function(e){t=Object(m.a)({id:e.id},e.data())})),a.data=t})).catch((function(e){a.error.push(e.message)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:null,error:[]},e.next=3,t.add(a).then((function(){n.data=a})).catch((function(e){n.error.push(e.message)}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=re,ue=a(152),le=a.n(ue),je=a(286),de=oe.collection("mst_user");function be(){return{type:y,payload:null}}function pe(e){return{type:x,payload:e}}function he(e){return localStorage.setItem(k,JSON.stringify(e)),{type:g,payload:null}}function Oe(){return localStorage.removeItem(k),function(e){e({type:N,payload:null})}}function me(e){return{type:v,payload:e}}var fe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.clearToken()},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(Z,Object(m.a)(Object(m.a)({},this.props),{},{handleLogout:this.handleLogout}))}}]),a}(n.Component);var xe=Object(H.c)((function(e){return{router:e.router,auth:e.auth}}),(function(e){return{clearToken:function(){e(Oe())}}}))(fe),ve=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"home-page-wrapper footer-wrapper",children:Object(J.jsx)("div",{className:"footer",children:Object(J.jsxs)("div",{className:"ant-row home-page",children:[Object(J.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(J.jsx)("h2",{className:"logo",children:Object(J.jsx)("img",{src:"https://zos.alipayobjects.com/rmsportal/qqaimmXZVSwAhpL.svg",alt:"img",width:"100%"})}),Object(J.jsx)("div",{className:"slogan",children:Object(J.jsx)("div",{children:Object(J.jsx)("span",{children:"Animation specification and components of Ant Design."})})})]}),Object(J.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(J.jsx)("h2",{children:Object(J.jsx)("span",{children:"\u4ea7\u54c1"})}),Object(J.jsxs)("div",{children:[Object(J.jsx)(q.a,{to:"/#",children:"\u4ea7\u54c1\u66f4\u65b0\u8bb0\u5f55"}),Object(J.jsx)(q.a,{to:"/#",children:"API\u6587\u6863"}),Object(J.jsx)(q.a,{to:"/#",children:"\u5feb\u901f\u5165\u95e8"}),Object(J.jsx)(q.a,{to:"/#",children:"\u53c2\u8003\u6307\u5357"})]})]}),Object(J.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(J.jsx)("h2",{children:Object(J.jsx)("span",{children:"\u5173\u4e8e"})}),Object(J.jsxs)("div",{children:[Object(J.jsx)(q.a,{to:"/#",children:"FAQ"}),Object(J.jsx)(q.a,{to:"/#",children:"\u8054\u7cfb\u6211\u4eec"})]})]}),Object(J.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(J.jsx)("h2",{children:Object(J.jsx)("span",{children:"\u8d44\u6e90"})}),Object(J.jsxs)("div",{children:[Object(J.jsx)(q.a,{to:"/#",children:"Ant Design"}),Object(J.jsx)(q.a,{to:"/#",children:"Ant Motion"})]})]})]})})})}}]),a}(n.Component),ye=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(ve,Object(m.a)({},this.props))}}]),a}(n.Component);var ge=Object(H.c)((function(e){return{router:e.router}}),{})(ye),Ne=a.p+"static/media/background.b7f964a9.svg",ke=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsxs)("div",{className:"app",style:{backgroundImage:"url(".concat(Ne,")")},children:[Object(J.jsx)(xe,{}),this.props.children,Object(J.jsx)(ge,{})]})}}]),a}(n.Component),we=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(ke,Object(m.a)({},this.props))}}]),a}(n.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"auth",style:{backgroundImage:"url(".concat(Ne,")")},children:Object(J.jsxs)("div",{className:"antd-pro-layouts-user-layout-content",children:[Object(J.jsxs)("div",{className:"antd-pro-layouts-user-layout-top",children:[Object(J.jsx)("div",{className:"antd-pro-layouts-user-layout-header",children:Object(J.jsxs)(q.a,{to:"/",children:[Object(J.jsx)("img",{alt:"",className:"antd-pro-layouts-user-layout-logo",src:V}),Object(J.jsx)("span",{className:"antd-pro-layouts-user-layout-title",children:"SSC MIX"})]})}),Object(J.jsx)("div",{className:"antd-pro-layouts-user-layout-desc",children:"Ant Design \u662f\u897f\u6e56\u533a\u6700\u5177\u5f71\u54cd\u529b\u7684 Web \u8bbe\u8ba1\u89c4\u8303"})]}),Object(J.jsx)("div",{className:"antd-pro-pages-user-login-index-main",children:this.props.children})]})})}}]),a}(n.Component),Ae=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(Ce,Object(m.a)({},this.props))}}]),a}(n.Component),Ie=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=null;switch(this.props.layout){case"App":e=Object(J.jsx)(we,{children:this.props.children});break;case"Auth":e=Object(J.jsx)(Ae,{children:this.props.children})}return this.props.exact?Object(J.jsx)(B.b,{path:this.props.path,exact:!0,children:e}):Object(J.jsx)(B.b,{path:this.props.path,children:e})}}]),a}(n.Component);var _e=Object(H.c)((function(e){return{crud:e.crud}}),{})(Ie),Se=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.id,a=e.role;if(null===t||void 0===t)return Object(J.jsx)(B.a,{to:"/login"});var n=this.props.roles;if("object"===typeof n&&-1===n.indexOf(a))return Object(J.jsx)(B.a,{to:"/errors/403"});var r=null;switch(this.props.layout){case"App":r=Object(J.jsx)(we,{children:this.props.children})}return this.props.exact?Object(J.jsx)(B.b,{path:this.props.path,exact:!0,children:r}):Object(J.jsx)(B.b,{path:this.props.path,children:r})}}]),a}(n.Component);Object(H.c)((function(e){return{auth:e.auth,crud:e.crud}}),{})(Se);var Te=a.p+"static/media/banner_background_2.9fd752b0.jpg",Ee=a.p+"static/media/banner_title.d943bd68.png",Fe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"home-banner",style:{backgroundImage:"url(".concat(Te,")")},children:Object(J.jsxs)("div",{className:"banner-content-wrapper",children:[Object(J.jsx)("div",{className:"banner-title",children:Object(J.jsx)("img",{src:Ee,alt:""})}),Object(J.jsx)("div",{className:"banner-content",children:Object(J.jsx)("span",{children:"SSC MIX for work"})})]})})}}]),a}(n.Component),Re=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user;return Object(J.jsxs)("div",{className:"ant-row member",children:[Object(J.jsx)("div",{className:"ant-col ant-col-7",children:Object(J.jsx)(q.a,{to:"/users/"+e.username,children:Object(J.jsx)("div",{className:"member-image",children:Object(J.jsx)("img",{src:Q,alt:e.username})})})}),Object(J.jsx)("div",{className:"ant-col ant-col-17",children:Object(J.jsxs)("div",{className:"member-description-wrapper",children:[Object(J.jsx)(q.a,{to:"/users/"+e.username,children:Object(J.jsx)("div",{className:"member-username",children:e.full_name})}),Object(J.jsx)("div",{className:"member-title",children:e.username}),Object(J.jsx)("div",{className:"member-description",children:"admin"===e.role?"Admin":"Member"}),Object(J.jsx)("div",{className:"member-description",children:"SSC Lunch Group"})]})})]})}}]),a}(n.Component),Ue=a(263),Le=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"loading-wrapper",children:Object(J.jsx)(Ue.a,{size:"large",tip:"Loading..."})})}}]),a}(n.Component),Pe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsxs)("div",{className:"empty-wrapper",children:[Object(J.jsx)("div",{className:"empty-title",children:"Empty data"}),Object(J.jsx)("div",{className:"empty-description",children:"Please try again"})]})}}]),a}(n.Component),De=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.message,t=void 0!==e&&null!==e&&""!==e?e:"Please try again";return Object(J.jsxs)("div",{className:"data-error-wrapper",children:[Object(J.jsx)("div",{className:"error-title",children:"Data error"}),Object(J.jsx)("div",{className:"error-description",children:t})]})}}]),a}(n.Component),Ge=a(457),ze=(n.Component,a(276),a(271),a(460)),Me=(n.Component,function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"home-page-wrapper teams-wrapper",children:Object(J.jsxs)("div",{className:"home-teams",children:[Object(J.jsx)("div",{className:"title-wrapper",children:Object(J.jsx)("h1",{children:Object(J.jsx)("span",{children:"Members"})})}),Object(J.jsx)("div",{className:"member-wrapper",children:Object(J.jsx)("div",{className:"ant-row block-wrapper",children:this.props.fetchUsersPending?Object(J.jsx)(Le,{}):this.props.users.length?this.props.users.map((function(e,t){return Object(J.jsx)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-8",children:Object(J.jsx)(Re,{user:e})},t)})):Object(J.jsx)(De,{})})})]})})}}]),a}(n.Component)),He=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(Me,Object(m.a)({},this.props))}}]),a}(n.Component),Be=a.p+"static/media/content.708970ca.svg",qe=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"home-page-wrapper content-wrapper",style:{backgroundImage:"url(".concat(Be,")")},children:Object(J.jsxs)("div",{className:"home-content",children:[Object(J.jsxs)("div",{className:"title-wrapper",children:[Object(J.jsx)("h1",{className:"title-h1",children:Object(J.jsx)("span",{children:"\u4e30\u5bcc\u7684\u7279\u8272\u5c55\u53f0"})}),Object(J.jsx)("div",{className:"title-content",children:Object(J.jsx)("span",{children:"\u7279\u8272\u5c55\u53f0\u5305\u62ec Ant Design \u3001AntV\u3001AntG\u3001Egg \u7b49\u660e\u661f\u4ea7\u54c1\uff0c\u66f4\u6709\u4ea7\u54c1\u4e13\u5bb6"})}),Object(J.jsx)("div",{className:"title-content",children:Object(J.jsx)("span",{children:"\u73b0\u573a\u95ee\u8bca\uff0c\u4e3a\u4f60\u7b54\u7591\u89e3\u96be"})})]}),Object(J.jsx)("div",{className:"content-button",children:Object(J.jsx)(q.a,{to:"#",className:"ant-btn button",children:Object(J.jsx)("span",{children:"\u7acb\u5373\u62a5\u540d"})})})]})})}}]),a}(n.Component),Ve=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(qe,Object(m.a)({},this.props))}}]),a}(n.Component);var Je=Object(H.c)((function(e){return{router:e.router}}),{})(Ve),We=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsxs)("div",{className:"features feature-home",children:[Object(J.jsx)(Fe,{}),Object(J.jsx)(He,Object(m.a)({},this.props)),Object(J.jsx)(Je,{})]})}}]),a}(n.Component),Xe=oe.collection("mst_user").orderBy("created_at");function Ye(e){return{type:A,payload:e}}var Ke=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.home;return Object(J.jsx)(We,{users:e.users,fetchUsersPending:e.fetchUsersPending})}},{key:"componentDidMount",value:function(){this.props.fetchUser()}}]),a}(n.Component);var Qe=Object(H.c)((function(e){return{home:e.home}}),(function(e){return{fetchUser:function(){e(function(){var e=Object(te.a)(ee.a.mark((function e(t){var a,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t({type:I,payload:null}),e.next=4,ce(Xe);case 4:0===(n=e.sent).error.length&&(a=n.data),t(Ye(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(Ke),Ze=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"features feature-contact"})}}]),a}(n.Component),$e=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(Ze,Object(m.a)({},this.props))}}]),a}(n.Component);var et=Object(H.c)((function(e){return{router:e.router}}),{})($e),tt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)("div",{className:"features feature-contact"})}}]),a}(n.Component),at=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(tt,Object(m.a)({},this.props))}}]),a}(n.Component);var nt=Object(H.c)((function(e){return{router:e.router}}),{})(at),rt=a(162),ct=a(465),st=a(466),it=a(467),ot=a(464),ut=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getActions=function(e,t){var a=[];return null!==e&&(-1!==t.indexOf("information")&&a.push(Object(J.jsxs)(q.a,{to:"/users/"+e.username,children:[Object(J.jsx)(rt.a,{})," Information"]},"edit")),-1!==t.indexOf("orders-create")&&a.push(Object(J.jsxs)(q.a,{to:"/users/"+e.username+"/orders/create",children:[Object(J.jsx)(ct.a,{})," New order"]},"orders-create")),-1!==t.indexOf("transactions-create")&&a.push(Object(J.jsxs)(q.a,{to:"/users/"+e.username+"/transactions/create",children:[Object(J.jsx)(st.a,{})," Pay in"]},"transactions-create"))),a},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.pendingFetchGeneral;return Object(J.jsx)(ot.a,{title:Object(J.jsxs)("div",{children:[Object(J.jsx)(it.a,{})," General"]}),children:a?Object(J.jsx)(Le,{}):null===t?Object(J.jsx)(De,{}):Object(J.jsxs)("div",{className:"user-data-wrapper",children:[Object(J.jsxs)("div",{className:"user-data avatar-wrapper text-center",children:[Object(J.jsx)(K.a,{src:Q,size:100}),Object(J.jsx)("div",{className:"avatar-label",children:t.full_name})]}),Object(J.jsxs)("div",{className:"user-data account-wrapper",children:[Object(J.jsxs)("div",{className:"account-data",children:[Object(J.jsx)("span",{className:"account-data-key",children:"UUID:"}),Object(J.jsx)("span",{className:"account-data-value",children:t.id})]}),Object(J.jsxs)("div",{className:"account-data",children:[Object(J.jsx)("span",{className:"account-data-key",children:"Username:"}),Object(J.jsx)("span",{className:"account-data-value",children:t.username})]}),Object(J.jsxs)("div",{className:"account-data",children:[Object(J.jsx)("span",{className:"account-data-key",children:"Full name:"}),Object(J.jsx)("span",{className:"account-data-value",children:t.full_name})]}),Object(J.jsxs)("div",{className:"account-data",children:[Object(J.jsx)("span",{className:"account-data-key",children:"Balance:"}),Object(J.jsxs)("span",{className:"account-data-value",children:[t.balance.toLocaleString()," VND"]})]})]})]})})}}]),a}(n.Component),lt=a(196),jt=a(456),dt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=e.pending,n=e.formatCreatedAt;return Object(J.jsx)("div",{className:"data-list list-transactions",children:a?Object(J.jsx)(Le,{}):0===t.length?Object(J.jsx)(Pe,{}):Object(J.jsx)(jt.b,{itemLayout:"vertical",size:"small",pagination:{pageSize:5},dataSource:t,renderItem:function(e){return Object(J.jsxs)(jt.b.Item,{className:"list-item",children:[Object(J.jsx)(jt.b.Item.Meta,{title:Object(J.jsxs)("div",{className:"item-meta-data",children:[Object(J.jsx)("span",{className:"item-data-key",children:"ID:"}),Object(J.jsx)("span",{className:"item-data-value",children:e.id})]}),description:e.description}),Object(J.jsxs)("div",{className:"item-data",children:[Object(J.jsx)("span",{className:"item-data-key",children:"Amount:"}),Object(J.jsxs)("span",{className:"item-data-value",children:[e.amount.toLocaleString()," VND"]})]}),Object(J.jsxs)("div",{className:"item-data",children:[Object(J.jsx)("span",{className:"item-data-key",children:"Created at:"}),Object(J.jsx)("span",{className:"item-data-value",children:n(e.created_at)})]})]},e.id)}})})}}]),a}(n.Component),bt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=e.pending,n=e.formatCreatedAt;return Object(J.jsx)("div",{className:"data-list list-orders",children:a?Object(J.jsx)(Le,{}):0===t.length?Object(J.jsx)(Pe,{}):Object(J.jsx)(jt.b,{itemLayout:"vertical",size:"small",pagination:{pageSize:5},dataSource:t,renderItem:function(e){return Object(J.jsxs)(jt.b.Item,{className:"list-item",children:[Object(J.jsx)(jt.b.Item.Meta,{title:Object(J.jsxs)("div",{className:"item-meta-data",children:[Object(J.jsx)("span",{className:"item-data-key",children:"ID:"}),Object(J.jsx)("span",{className:"item-data-value",children:e.id})]}),description:e.description}),Object(J.jsxs)("div",{className:"item-data",children:[Object(J.jsx)("span",{className:"item-data-key",children:"Amount:"}),Object(J.jsxs)("span",{className:"item-data-value",children:[e.amount.toLocaleString()," VND"]})]}),Object(J.jsxs)("div",{className:"item-data",children:[Object(J.jsx)("span",{className:"item-data-key",children:"Created at:"}),Object(J.jsx)("span",{className:"item-data-value",children:n(e.created_at)})]})]},e.id)}})})}}]),a}(n.Component),pt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).formatCreatedAt=function(e){var t=le()(e).format("YYYY-MM-DD HH:mm:ss");return null!==e&&"Invalid date"!==t||(t="Not found created time"),t},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.orders,a=e.pendingFetchOrders,n=e.transactions,r=e.pendingFetchTransactions;return Object(J.jsxs)(lt.a,{className:"user-tabs",children:[Object(J.jsx)(lt.a.TabPane,{tab:Object(J.jsxs)("span",{children:[Object(J.jsx)(st.a,{})," Transactions"]}),className:"tab-item",children:Object(J.jsx)(dt,{pending:r,dataSource:n,formatCreatedAt:this.formatCreatedAt})},"tab-transactions"),Object(J.jsx)(lt.a.TabPane,{tab:Object(J.jsxs)("span",{children:[Object(J.jsx)(ct.a,{})," Orders"]}),className:"tab-item",children:Object(J.jsx)(bt,{pending:a,dataSource:t,formatCreatedAt:this.formatCreatedAt})},"tab-orders")]})}}]),a}(n.Component),ht=a(116),Ot=a(69),mt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.pendingFetchGeneral,n=e.orders,r=e.pendingFetchOrders,c=e.transactions,s=e.pendingFetchTransactions,i=e.generalMenu;return Object(J.jsx)("div",{className:"features feature-user",children:Object(J.jsxs)(ht.a,{gutter:24,className:"user-detail",children:[Object(J.jsx)(Ot.a,{xs:24,md:8,children:Object(J.jsx)(ut,{user:t,pendingFetchGeneral:a,generalMenu:i})}),Object(J.jsx)(Ot.a,{xs:24,md:16,children:Object(J.jsx)(pt,{orders:n,pendingFetchOrders:r,transactions:c,pendingFetchTransactions:s})})]})})}}]),a}(n.Component),ft=a(273),xt=oe.collection("mst_user");var vt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.user;return Object(J.jsx)(mt,{user:e.user,pendingFetchGeneral:e.pendingFetchGeneral,orders:e.orders,pendingFetchOrders:e.pendingFetchOrders,transactions:e.transactions,pendingFetchTransactions:e.pendingFetchTransactions,generalMenu:["orders-create","transactions-create"]})}},{key:"componentDidMount",value:function(){var e=this.props.auth,t=this.props.match.params.username,a={headers:{Authorization:"Bearer ".concat(e.token)}};this.props.fetchUserGeneral(t),this.props.fetchUserTransactions(t,a),this.props.fetchUserOrders(t,a)}}]),a}(n.Component);var yt=Object(H.c)((function(e){var t=Object(O.c)("/users/:username");return{auth:e.auth,user:e.user,match:t(e)}}),(function(e){return{fetchUserGeneral:function(t){e(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n,r,c,s,i,o;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:T,payload:!0}),t.next=3,se(xt.where("username","==",e));case 3:if(null===(n=t.sent).data){t.next=11;break}return t.next=7,ce(xt.doc(n.data.id).collection("transactions").orderBy("created_at","desc"));case 7:if(r=t.sent,c=0,0===r.error.length){s=Object(ft.a)(r.data);try{for(s.s();!(i=s.n()).done;)o=i.value,c+=parseInt(o.amount)}catch(l){s.e(l)}finally{s.f()}}n.data.balance=c;case 11:a((u=n.data,{type:S,payload:u}));case 12:case"end":return t.stop()}var u}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchUserTransactions:function(t,a){e(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n,r,c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:F,payload:!0}),n=[],t.next=4,se(xt.where("username","==",e));case 4:if(null===(r=t.sent).data){t.next=10;break}return t.next=8,ce(xt.doc(r.data.id).collection("transactions").orderBy("created_at","desc"));case 8:0===(c=t.sent).error.length&&(n=c.data);case 10:a({type:E,payload:n});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchUserOrders:function(t,a){e(function(e){return function(){var t=Object(te.a)(ee.a.mark((function t(a){var n,r,c;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:U,payload:!0}),n=[],t.next=4,se(xt.where("username","==",e));case 4:if(null===(r=t.sent).data){t.next=10;break}return t.next=8,ce(xt.doc(r.data.id).collection("orders").orderBy("created_at","desc"));case 8:0===(c=t.sent).error.length&&(n=c.data);case 10:a({type:R,payload:n});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(vt),gt=a(458),Nt=a(67),kt=a(468),wt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.auth,a=t.message,n=t.pending;return Object(J.jsxs)("div",{className:"feature-login",children:[Object(J.jsx)("div",{className:"form-message",children:a}),Object(J.jsxs)(Ge.a,{className:"ant-form ant-form-vertical",onFinish:function(t){return e.props.handleLogin(t)},children:[Object(J.jsx)(Ge.a.Item,{name:"username",children:Object(J.jsx)(gt.a,{prefix:Object(J.jsx)(it.a,{className:"site-form-item-icon"}),placeholder:"Username",size:"large"})}),Object(J.jsx)(Ge.a.Item,{name:"password",children:Object(J.jsx)(gt.a.Password,{prefix:Object(J.jsx)(kt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})}),Object(J.jsx)(Ge.a.Item,{children:Object(J.jsx)(Nt.a,{type:"primary",htmlType:"submit",size:"large",disabled:n,block:!0,children:"Log in"})})]}),Object(J.jsxs)("div",{className:"form-option",children:["or ",Object(J.jsx)(q.a,{to:"/register",children:"Register"})]})]})}}]),a}(n.Component),Ct=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogin=function(t){e.props.login(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.id;return null!==t&&void 0!==t?Object(J.jsx)(B.a,{to:"/users/"+e.username}):Object(J.jsx)(wt,{auth:e,handleLogin:this.handleLogin})}}]),a}(n.Component);var At=Object(H.c)((function(e){return{auth:e.auth}}),(function(e){return{login:function(t){e(function(e){var t=e.username,a=e.password,n="";return void 0===t||null===t||""===t?n="Username is required.":void 0!==a&&null!==a&&""!==a||(n="Password is required."),function(){var e=Object(te.a)(ee.a.mark((function e(r){var c,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(be()),""!==n){e.next=7;break}return e.next=4,se(de.where("username","==",t));case 4:c=e.sent,null===(s=c.data)?n="Not found "+t+".":!1===je.verify(a,s.password)?n="Password incorrect.":r(he(s));case 7:r(pe(n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))(Ct),It=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.message;return Object(J.jsxs)("div",{className:"feature-login",children:[Object(J.jsx)("div",{className:"form-message",children:t}),Object(J.jsxs)(Ge.a,{className:"ant-form ant-form-vertical",onFinish:function(t){return e.props.handleRegister(t)},children:[Object(J.jsx)(Ge.a.Item,{name:"username",children:Object(J.jsx)(gt.a,{prefix:Object(J.jsx)(it.a,{className:"site-form-item-icon"}),placeholder:"Username",size:"large"})}),Object(J.jsx)(Ge.a.Item,{name:"full_name",children:Object(J.jsx)(gt.a,{prefix:Object(J.jsx)(it.a,{className:"site-form-item-icon"}),placeholder:"Full name",size:"large"})}),Object(J.jsx)(Ge.a.Item,{name:"password",children:Object(J.jsx)(gt.a.Password,{prefix:Object(J.jsx)(kt.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})}),Object(J.jsx)(Ge.a.Item,{children:Object(J.jsx)(Nt.a,{type:"primary",htmlType:"submit",size:"large",disabled:this.props.pending,block:!0,children:"Register"})})]}),Object(J.jsxs)("div",{className:"form-option",children:["or ",Object(J.jsx)(q.a,{to:"/login",children:"Login"})]})]})}}]),a}(n.Component),_t=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleRegister=function(t){e.props.register(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.auth,t=e.message,a=e.pending;return Object(J.jsx)(It,{message:t,pending:a,handleRegister:this.handleRegister})}}]),a}(n.Component);var St=Object(H.c)((function(e){return{auth:e.auth}}),(function(e){return{register:function(t){e(function(e){var t=e.username,a=e.full_name,n=e.password,r="";return void 0===t||null===t||""===t?r="Username is required.":void 0===a||null===a||""===a?r="Full name is required.":void 0!==n&&null!==n&&""!==n||(r="Password is required."),function(){var a=Object(te.a)(ee.a.mark((function a(c){var s;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c(be()),""!==r){a.next=17;break}return a.next=4,se(de.where("username","==",t));case 4:if(null===a.sent.data){a.next=10;break}r=t+" already exist.",a.next=14;break;case 10:return a.next=12,ie(de,{username:e.username,full_name:e.full_name,password:je.generate(n),role:"",created_at:le()().format()});case 12:s=a.sent,r=0===s.error.length?"Register success.":s.error;case 14:c(me(r)),a.next=18;break;case 17:c(me(r));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(t))}}}))(_t),Tt=a(462),Et=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.code;return Object(J.jsx)(Tt.a,{status:e,title:e,subTitle:"Sorry, you are not authorized to access this page.",extra:Object(J.jsx)(Nt.a,{type:"primary",children:Object(J.jsx)(q.a,{to:"/",children:"Back Home"})})})}}]),a}(n.Component),Ft=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e,t=void 0!==this.props.code?this.props.code:"500";switch(t){case"403":e="Sorry, you are not authorized to access this page.";break;case"500":e="Sorry, something went wrong.";break;case"404":default:t="404",e="Sorry, the page you visited does not exist."}return Object(J.jsx)("div",{className:"features feature-exceptions",children:Object(J.jsx)(Et,{code:t,message:e})})}}]),a}(n.Component),Rt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.router.location.pathname.replace("/errors/","");return Object(J.jsx)(Ft,{code:e})}}]),a}(n.Component);var Ut=Object(H.c)((function(e){return{router:e.router}}),{})(Rt),Lt=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsxs)(B.d,{children:[Object(J.jsx)(_e,{path:"/login",layout:"Auth",children:Object(J.jsx)(At,{})}),Object(J.jsx)(_e,{path:"/register",layout:"Auth",children:Object(J.jsx)(St,{})}),Object(J.jsx)(_e,{path:"/errors/:code",layout:"App",children:Object(J.jsx)(Ut,{layout:"App"})}),Object(J.jsx)(_e,{path:"/",layout:"App",exact:!0,children:Object(J.jsx)(Qe,{})}),Object(J.jsx)(_e,{path:"/contact",layout:"App",children:Object(J.jsx)(et,{})}),Object(J.jsx)(_e,{path:"/about",layout:"App",children:Object(J.jsx)(nt,{})}),Object(J.jsx)(_e,{path:"/users/:id",layout:"App",exact:!0,children:Object(J.jsx)(yt,{})}),Object(J.jsx)(_e,{path:"*",children:Object(J.jsx)(Ut,{code:404})})]})}}]),a}(n.Component),Pt=(a(452),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(J.jsx)(H.a,{store:M,children:Object(J.jsx)(O.a,{history:h,children:Object(J.jsx)(Lt,{})})})}}]),a}(n.Component));s.a.render(Object(J.jsx)(r.a.StrictMode,{children:Object(J.jsx)(Pt,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[453,1,2]]]);
//# sourceMappingURL=main.afbeee91.chunk.js.map