(this["webpackJsonpssc-mix"]=this["webpackJsonpssc-mix"]||[]).push([[0],{296:function(e,t){},298:function(e,t){},309:function(e,t){},311:function(e,t){},338:function(e,t){},340:function(e,t){},341:function(e,t){},346:function(e,t){},348:function(e,t){},367:function(e,t){},379:function(e,t){},382:function(e,t){},457:function(e,t,n){},458:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(37),s=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(9),o=n(10),u=n(12),l=n(11),j=n(117),d=n(262),b=n(202),h=n(263),p=Object(h.a)({basename:"/ssc-mix"}),O=n(91),m=n(14),f={id:null,username:null,full_name:null,token:null,role:null,message:"",pending:!1},x="LOGIN_ACTION",v="REGISTER_ACTION",g="PENDING_ACTION",y="SET_TOKEN_ACTION",N="CLEAR_TOKEN_ACTION",k="ssc";function C(){var e;try{var t=JSON.parse(localStorage.getItem(k));e={id:t.id,username:t.username,full_name:t.full_name,token:null,role:t.role,message:null}}catch(n){localStorage.removeItem(k),e={id:null,username:null,full_name:null,token:null,role:null,message:null}}return e}var w={users:[],fetchUsersPending:!1},_="FETCH_USERS",I="FETCH_USERS_PENDING";var A={user:null,orders:[],transactions:[],pendingFetchGeneral:!1,pendingFetchTransactions:!1,pendingFetchOrders:!1},S="FETCH_USER_GENERAL_ACTION",T="PENDING_FETCH_USER_GENERAL_ACTION",E="FETCH_USER_TRANSACTIONS_ACTION",F="PENDING_FETCH_USER_TRANSACTIONS_ACTION",R="FETCH_USER_ORDERS_ACTION",U="PENDING_FETCH_USER_ORDERS_ACTION";var L={users:[],pendingFetch:!1,message:"",pendingOrderMulti:!1},D="ORDER_LUNCH_FETCH_USERS_ACTION",P="ORDER_LUNCH_FETCH_USERS_PENDING_ACTION",M="ORDER_LUNCH_INSERT_MULTI_ACTION",G="ORDER_LUNCH_INSERT_MULTI_PENDING_ACTION",z="ORDER_LUNCH_RESET_MESSAGE_ACTION";var H={router:Object(O.b)(p),auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=C();switch(t.type){case g:return Object(m.a)(Object(m.a)({},e),{},{pending:!0});case x:case v:return Object(m.a)(Object(m.a)({},e),{},{pending:!1,message:t.payload});case y:case N:default:return Object(m.a)(Object(m.a)({},e),n)}},home:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case _:return Object(m.a)(Object(m.a)({},e),{},{fetchUsersPending:!1,users:n});case I:return Object(m.a)(Object(m.a)({},e),{},{fetchUsersPending:!0});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case S:return Object(m.a)(Object(m.a)({},e),{},{user:n,pendingFetchGeneral:!1});case E:return Object(m.a)(Object(m.a)({},e),{},{transactions:n,pendingFetchTransactions:!1});case R:return Object(m.a)(Object(m.a)({},e),{},{orders:n,pendingFetchOrders:!1});case T:return Object(m.a)(Object(m.a)({},e),{},{pendingFetchGeneral:!0});case F:return Object(m.a)(Object(m.a)({},e),{},{pendingFetchTransactions:!0});case U:return Object(m.a)(Object(m.a)({},e),{},{pendingFetchOrders:!0});default:return e}},orderLunch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case D:return Object(m.a)(Object(m.a)({},e),{},{pendingFetch:!1,users:n});case P:return Object(m.a)(Object(m.a)({},e),{},{pendingFetch:!0});case M:return Object(m.a)(Object(m.a)({},e),{},{pendingOrderMulti:!1,message:n});case G:return Object(m.a)(Object(m.a)({},e),{},{pendingOrderMulti:!0,message:""});case z:return Object(m.a)(Object(m.a)({},e),{},{message:""});default:return e}}},K=Object(j.b)(H),V=Object(b.a)(p),B=[d.a,V];var q,W=Object(j.d)(K,q,Object(j.c)(j.a.apply(void 0,B))),J=n(32),X=n(35),Y=n(29),Q=n.p+"static/media/logo.0fffdae2.png",Z=n(1),$=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("img",{src:Q,className:"common-logo",alt:"logo"})}}]),n}(a.Component),ee=n(278),te=n(89),ne=n(464),ae=n.p+"static/media/user.1f2b6f5f.png",re=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.router.location.pathname,n="menu-item",a="menu-item active",r=!0===this.props.isTransparent?"header transparent":"header",c=this.props.auth,s=void 0!==c.id&&null!==c.id,i="admin"===c.role;return Object(Z.jsx)("header",{className:r,children:Object(Z.jsxs)("div",{className:"header-content",children:[Object(Z.jsx)("div",{className:"header-logo",children:Object(Z.jsx)($,{})}),Object(Z.jsx)("div",{className:"header-menu",children:Object(Z.jsxs)("ul",{className:"menu-content",children:[Object(Z.jsx)("li",{className:"/"===t?a:n,children:Object(Z.jsx)(Y.a,{to:"/",children:"Home"})}),i?Object(Z.jsx)("li",{className:"/"===t?a:n,children:Object(Z.jsx)(Y.a,{to:"/order-lunch",children:"Order lunch"})}):null,i?Object(Z.jsx)("li",{className:"/"===t?a:n,children:Object(Z.jsx)(Y.a,{to:"/pay-in",children:"Pay in"})}):null,Object(Z.jsx)("li",{className:"/contact"===t?a:n,children:Object(Z.jsx)(Y.a,{to:"/contact",children:"Contact"})}),Object(Z.jsx)("li",{className:"/about"===t?a:n,children:Object(Z.jsx)(Y.a,{to:"/about",children:"About"})})]})}),Object(Z.jsx)("div",{className:"header-menu auth-menu",children:s?Object(Z.jsx)(ee.a,{className:"menu-content",overlay:Object(Z.jsx)(te.a,{children:Object(Z.jsx)(te.a.Item,{onClick:function(){e.props.handleLogout()},children:"Logout"})}),children:Object(Z.jsxs)("div",{children:[Object(Z.jsx)(ne.a,{className:"avatar",src:ae}),Object(Z.jsx)("span",{className:"full-name",children:c.full_name})]})}):Object(Z.jsxs)("ul",{className:"menu-content",children:[Object(Z.jsx)("li",{className:"menu-item",children:Object(Z.jsx)(Y.a,{to:"/login",children:"Login"})}),Object(Z.jsx)("li",{className:"menu-item",children:Object(Z.jsx)(Y.a,{to:"/register",children:"Register"})})]})})]})})}}]),n}(a.Component),ce=n(33),se=n.n(ce),ie=n(46),oe={apiKey:"AIzaSyAJzOQIy5FVHX8LtIWUWIqH1cCruPn4-GA",authDomain:"learning-84308.firebaseapp.com",projectId:"learning-84308",storageBucket:"learning-84308.appspot.com",messagingSenderId:"461471526957",appId:"1:461471526957:web:5ad0dde5afea7a931748a4"},ue=n(170);n(459);ue.a.initializeApp(oe);var le=ue.a.firestore(),je=ue.a.firestore().collection("RIVER_CRANE").doc("ssc_lunch"),de=function(){var e=Object(ie.a)(se.a.mark((function e(t){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:[],error:[]},e.next=3,t.get().then((function(e){e.forEach((function(e){var t=Object(m.a)({id:e.id},e.data());n.data.push(t)}))})).catch((function(e){n.error.push(e.message)}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(ie.a)(se.a.mark((function e(t){var n;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={data:null,error:[]},e.next=3,t.limit(1).get().then((function(e){var t=null;e.forEach((function(e){t=Object(m.a)({id:e.id},e.data())})),n.data=t})).catch((function(e){n.error.push(e.message)}));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(ie.a)(se.a.mark((function e(t,n){var a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:null,error:[]},e.next=3,t.add(n).then((function(e){a.data=Object(m.a)(Object(m.a)({},n),{},{id:e.id})})).catch((function(e){a.error.push(e.message)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=n(155),Oe=n.n(pe),me=n(291),fe=je.collection("mst_user");function xe(){return{type:g,payload:null}}function ve(e){return{type:x,payload:e}}function ge(e){return localStorage.setItem(k,JSON.stringify(e)),{type:y,payload:null}}function ye(){return localStorage.removeItem(k),function(e){e({type:N,payload:null})}}function Ne(e){return{type:v,payload:e}}var ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.clearToken()},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(re,Object(m.a)(Object(m.a)({},this.props),{},{handleLogout:this.handleLogout}))}}]),n}(a.Component);var Ce=Object(J.c)((function(e){return{router:e.router,auth:e.auth}}),(function(e){return{clearToken:function(){e(ye())}}}))(ke),we=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"home-page-wrapper footer-wrapper",children:Object(Z.jsx)("div",{className:"footer",children:Object(Z.jsxs)("div",{className:"ant-row home-page",children:[Object(Z.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(Z.jsx)("h2",{className:"logo",children:Object(Z.jsx)("img",{src:"https://zos.alipayobjects.com/rmsportal/qqaimmXZVSwAhpL.svg",alt:"img",width:"100%"})}),Object(Z.jsx)("div",{className:"slogan",children:Object(Z.jsx)("div",{children:Object(Z.jsx)("span",{children:"Animation specification and components of Ant Design."})})})]}),Object(Z.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(Z.jsx)("h2",{children:Object(Z.jsx)("span",{children:"\u4ea7\u54c1"})}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)(Y.a,{to:"/#",children:"\u4ea7\u54c1\u66f4\u65b0\u8bb0\u5f55"}),Object(Z.jsx)(Y.a,{to:"/#",children:"API\u6587\u6863"}),Object(Z.jsx)(Y.a,{to:"/#",children:"\u5feb\u901f\u5165\u95e8"}),Object(Z.jsx)(Y.a,{to:"/#",children:"\u53c2\u8003\u6307\u5357"})]})]}),Object(Z.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(Z.jsx)("h2",{children:Object(Z.jsx)("span",{children:"\u5173\u4e8e"})}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)(Y.a,{to:"/#",children:"FAQ"}),Object(Z.jsx)(Y.a,{to:"/#",children:"\u8054\u7cfb\u6211\u4eec"})]})]}),Object(Z.jsxs)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-6",children:[Object(Z.jsx)("h2",{children:Object(Z.jsx)("span",{children:"\u8d44\u6e90"})}),Object(Z.jsxs)("div",{children:[Object(Z.jsx)(Y.a,{to:"/#",children:"Ant Design"}),Object(Z.jsx)(Y.a,{to:"/#",children:"Ant Motion"})]})]})]})})})}}]),n}(a.Component),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(we,Object(m.a)({},this.props))}}]),n}(a.Component);var Ie=Object(J.c)((function(e){return{router:e.router}}),{})(_e),Ae=n.p+"static/media/background.b7f964a9.svg",Se=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsxs)("div",{className:"app",style:{backgroundImage:"url(".concat(Ae,")")},children:[Object(Z.jsx)(Ce,{}),this.props.children,Object(Z.jsx)(Ie,{})]})}}]),n}(a.Component),Te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(Se,Object(m.a)({},this.props))}}]),n}(a.Component),Ee=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"auth",style:{backgroundImage:"url(".concat(Ae,")")},children:Object(Z.jsxs)("div",{className:"antd-pro-layouts-user-layout-content",children:[Object(Z.jsxs)("div",{className:"antd-pro-layouts-user-layout-top",children:[Object(Z.jsx)("div",{className:"antd-pro-layouts-user-layout-header",children:Object(Z.jsxs)(Y.a,{to:"/",children:[Object(Z.jsx)("img",{alt:"",className:"antd-pro-layouts-user-layout-logo",src:Q}),Object(Z.jsx)("span",{className:"antd-pro-layouts-user-layout-title",children:"SSC MIX"})]})}),Object(Z.jsx)("div",{className:"antd-pro-layouts-user-layout-desc",children:"Ant Design \u662f\u897f\u6e56\u533a\u6700\u5177\u5f71\u54cd\u529b\u7684 Web \u8bbe\u8ba1\u89c4\u8303"})]}),Object(Z.jsx)("div",{className:"antd-pro-pages-user-login-index-main",children:this.props.children})]})})}}]),n}(a.Component),Fe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(Ee,Object(m.a)({},this.props))}}]),n}(a.Component),Re=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=null;switch(this.props.layout){case"App":e=Object(Z.jsx)(Te,{children:this.props.children});break;case"Auth":e=Object(Z.jsx)(Fe,{children:this.props.children})}return this.props.exact?Object(Z.jsx)(X.b,{path:this.props.path,exact:!0,children:e}):Object(Z.jsx)(X.b,{path:this.props.path,children:e})}}]),n}(a.Component);var Ue=Object(J.c)((function(e){return{crud:e.crud}}),{})(Re),Le=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=e.id,n=e.role;if(null===t||void 0===t)return Object(Z.jsx)(X.a,{to:"/login"});var a=this.props.roles;if("object"===typeof a&&-1===a.indexOf(n))return Object(Z.jsx)(X.a,{to:"/errors/403"});var r=null;switch(this.props.layout){case"App":r=Object(Z.jsx)(Te,{children:this.props.children})}return this.props.exact?Object(Z.jsx)(X.b,{path:this.props.path,exact:!0,children:r}):Object(Z.jsx)(X.b,{path:this.props.path,children:r})}}]),n}(a.Component);var De=Object(J.c)((function(e){return{auth:e.auth,crud:e.crud}}),{})(Le),Pe=n.p+"static/media/banner_background_2.9fd752b0.jpg",Me=n.p+"static/media/banner_title.d943bd68.png",Ge=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"home-banner",style:{backgroundImage:"url(".concat(Pe,")")},children:Object(Z.jsxs)("div",{className:"banner-content-wrapper",children:[Object(Z.jsx)("div",{className:"banner-title",children:Object(Z.jsx)("img",{src:Me,alt:""})}),Object(Z.jsx)("div",{className:"banner-content",children:Object(Z.jsx)("span",{children:"SSC MIX for work"})})]})})}}]),n}(a.Component),ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.user;return Object(Z.jsxs)("div",{className:"ant-row member",children:[Object(Z.jsx)("div",{className:"ant-col ant-col-7",children:Object(Z.jsx)(Y.a,{to:"/users/"+e.username,children:Object(Z.jsx)("div",{className:"member-image",children:Object(Z.jsx)("img",{src:ae,alt:e.username})})})}),Object(Z.jsx)("div",{className:"ant-col ant-col-17",children:Object(Z.jsxs)("div",{className:"member-description-wrapper",children:[Object(Z.jsx)(Y.a,{to:"/users/"+e.username,children:Object(Z.jsx)("div",{className:"member-username",children:e.full_name})}),Object(Z.jsx)("div",{className:"member-title",children:e.username}),Object(Z.jsx)("div",{className:"member-description",children:"admin"===e.role?"Admin":"Member"}),Object(Z.jsx)("div",{className:"member-description",children:"SSC Lunch Group"})]})})]})}}]),n}(a.Component),He=n(267),Ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"loading-wrapper",children:Object(Z.jsx)(He.a,{size:"large",tip:"Loading..."})})}}]),n}(a.Component),Ve=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsxs)("div",{className:"empty-wrapper",children:[Object(Z.jsx)("div",{className:"empty-title",children:"Empty data"}),Object(Z.jsx)("div",{className:"empty-description",children:"Please try again"})]})}}]),n}(a.Component),Be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.message,t=void 0!==e&&null!==e&&""!==e?e:"Please try again";return Object(Z.jsxs)("div",{className:"data-error-wrapper",children:[Object(Z.jsx)("div",{className:"error-title",children:"Data error"}),Object(Z.jsx)("div",{className:"error-description",children:t})]})}}]),n}(a.Component),qe=n(461),We=(a.Component,n(281),n(276)),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===e&&(e="Sorry, something went wrong."),We.b.error(e)},Xe=function(){var e=We.b.loading("Loading...",0);setTimeout(e,500)},Ye=n(463),Qe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onOk,n=e.onCancel,a=e.visible,r=e.message;return Object(Z.jsx)(Ye.a,{title:"Confirm",onOk:t,onCancel:n,visible:a,children:Object(Z.jsx)("p",{children:r})})}}]),n}(a.Component),Ze=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"home-page-wrapper teams-wrapper",children:Object(Z.jsxs)("div",{className:"home-teams",children:[Object(Z.jsx)("div",{className:"title-wrapper",children:Object(Z.jsx)("h1",{children:Object(Z.jsx)("span",{children:"Members"})})}),Object(Z.jsx)("div",{className:"member-wrapper",children:Object(Z.jsx)("div",{className:"ant-row block-wrapper",children:this.props.fetchUsersPending?Object(Z.jsx)(Ke,{}):this.props.users.length?this.props.users.map((function(e,t){return Object(Z.jsx)("div",{className:"ant-col block ant-col-xs-24 ant-col-md-8",children:Object(Z.jsx)(ze,{user:e})},t)})):Object(Z.jsx)(Be,{})})})]})})}}]),n}(a.Component),$e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(Ze,Object(m.a)({},this.props))}}]),n}(a.Component),et=n.p+"static/media/content.708970ca.svg",tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"home-page-wrapper content-wrapper",style:{backgroundImage:"url(".concat(et,")")},children:Object(Z.jsxs)("div",{className:"home-content",children:[Object(Z.jsxs)("div",{className:"title-wrapper",children:[Object(Z.jsx)("h1",{className:"title-h1",children:Object(Z.jsx)("span",{children:"\u4e30\u5bcc\u7684\u7279\u8272\u5c55\u53f0"})}),Object(Z.jsx)("div",{className:"title-content",children:Object(Z.jsx)("span",{children:"\u7279\u8272\u5c55\u53f0\u5305\u62ec Ant Design \u3001AntV\u3001AntG\u3001Egg \u7b49\u660e\u661f\u4ea7\u54c1\uff0c\u66f4\u6709\u4ea7\u54c1\u4e13\u5bb6"})}),Object(Z.jsx)("div",{className:"title-content",children:Object(Z.jsx)("span",{children:"\u73b0\u573a\u95ee\u8bca\uff0c\u4e3a\u4f60\u7b54\u7591\u89e3\u96be"})})]}),Object(Z.jsx)("div",{className:"content-button",children:Object(Z.jsx)(Y.a,{to:"#",className:"ant-btn button",children:Object(Z.jsx)("span",{children:"\u7acb\u5373\u62a5\u540d"})})})]})})}}]),n}(a.Component),nt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(tt,Object(m.a)({},this.props))}}]),n}(a.Component);var at=Object(J.c)((function(e){return{router:e.router}}),{})(nt),rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsxs)("div",{className:"features feature-home",children:[Object(Z.jsx)(Ge,{}),Object(Z.jsx)($e,Object(m.a)({},this.props)),Object(Z.jsx)(at,{})]})}}]),n}(a.Component),ct=je.collection("mst_user").orderBy("created_at");function st(e){return{type:_,payload:e}}var it=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.home;return Object(Z.jsx)(rt,{users:e.users,fetchUsersPending:e.fetchUsersPending})}},{key:"componentDidMount",value:function(){this.props.fetchUser()}}]),n}(a.Component);var ot=Object(J.c)((function(e){return{home:e.home}}),(function(e){return{fetchUser:function(){e(function(){var e=Object(ie.a)(se.a.mark((function e(t){var n,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t({type:I,payload:null}),e.next=4,de(ct);case 4:0===(a=e.sent).error.length&&(n=a.data),t(st(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))(it),ut=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"features feature-contact"})}}]),n}(a.Component),lt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(ut,Object(m.a)({},this.props))}}]),n}(a.Component);var jt=Object(J.c)((function(e){return{router:e.router}}),{})(lt),dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)("div",{className:"features feature-contact"})}}]),n}(a.Component),bt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(dt,Object(m.a)({},this.props))}}]),n}(a.Component);var ht=Object(J.c)((function(e){return{router:e.router}}),{})(bt),pt=n(167),Ot=n(468),mt=n(469),ft=n(470),xt=n(466),vt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getActions=function(e,t){var n=[];return null!==e&&(-1!==t.indexOf("information")&&n.push(Object(Z.jsxs)(Y.a,{to:"/users/"+e.username,children:[Object(Z.jsx)(pt.a,{})," Information"]},"edit")),-1!==t.indexOf("orders-create")&&n.push(Object(Z.jsxs)(Y.a,{to:"/users/"+e.username+"/orders/create",children:[Object(Z.jsx)(Ot.a,{})," New order"]},"orders-create")),-1!==t.indexOf("transactions-create")&&n.push(Object(Z.jsxs)(Y.a,{to:"/users/"+e.username+"/transactions/create",children:[Object(Z.jsx)(mt.a,{})," Pay in"]},"transactions-create"))),n},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.pendingFetchGeneral;return Object(Z.jsx)(xt.a,{title:Object(Z.jsxs)("div",{children:[Object(Z.jsx)(ft.a,{})," General"]}),children:n?Object(Z.jsx)(Ke,{}):null===t?Object(Z.jsx)(Be,{}):Object(Z.jsxs)("div",{className:"user-data-wrapper",children:[Object(Z.jsxs)("div",{className:"user-data avatar-wrapper text-center",children:[Object(Z.jsx)(ne.a,{src:ae,size:100}),Object(Z.jsx)("div",{className:"avatar-label",children:t.full_name})]}),Object(Z.jsxs)("div",{className:"user-data account-wrapper",children:[Object(Z.jsxs)("div",{className:"account-data",children:[Object(Z.jsx)("span",{className:"account-data-key",children:"UUID:"}),Object(Z.jsx)("span",{className:"account-data-value",children:t.id})]}),Object(Z.jsxs)("div",{className:"account-data",children:[Object(Z.jsx)("span",{className:"account-data-key",children:"Username:"}),Object(Z.jsx)("span",{className:"account-data-value",children:t.username})]}),Object(Z.jsxs)("div",{className:"account-data",children:[Object(Z.jsx)("span",{className:"account-data-key",children:"Full name:"}),Object(Z.jsx)("span",{className:"account-data-value",children:t.full_name})]}),Object(Z.jsxs)("div",{className:"account-data",children:[Object(Z.jsx)("span",{className:"account-data-key",children:"Balance:"}),Object(Z.jsxs)("span",{className:"account-data-value",children:[t.balance.toLocaleString()," VND"]})]})]})]})})}}]),n}(a.Component),gt=n(200),yt=n(467),Nt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dataSource,n=e.pending,a=e.formatCreatedAt;return Object(Z.jsx)("div",{className:"data-list list-transactions",children:n?Object(Z.jsx)(Ke,{}):0===t.length?Object(Z.jsx)(Ve,{}):Object(Z.jsx)(yt.b,{itemLayout:"vertical",size:"small",pagination:{pageSize:5},dataSource:t,renderItem:function(e){return Object(Z.jsxs)(yt.b.Item,{className:"list-item",children:[Object(Z.jsx)(yt.b.Item.Meta,{title:Object(Z.jsxs)("div",{className:"item-meta-data",children:[Object(Z.jsx)("span",{className:"item-data-key",children:"ID:"}),Object(Z.jsx)("span",{className:"item-data-value",children:e.id})]}),description:e.description}),Object(Z.jsxs)("div",{className:"item-data",children:[Object(Z.jsx)("span",{className:"item-data-key",children:"Amount:"}),Object(Z.jsxs)("span",{className:"item-data-value",children:[e.amount.toLocaleString()," VND"]})]}),Object(Z.jsxs)("div",{className:"item-data",children:[Object(Z.jsx)("span",{className:"item-data-key",children:"Created at:"}),Object(Z.jsx)("span",{className:"item-data-value",children:a(e.created_at)})]})]},e.id)}})})}}]),n}(a.Component),kt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dataSource,n=e.pending,a=e.formatCreatedAt;return Object(Z.jsx)("div",{className:"data-list list-orders",children:n?Object(Z.jsx)(Ke,{}):0===t.length?Object(Z.jsx)(Ve,{}):Object(Z.jsx)(yt.b,{itemLayout:"vertical",size:"small",pagination:{pageSize:5},dataSource:t,renderItem:function(e){return Object(Z.jsxs)(yt.b.Item,{className:"list-item",children:[Object(Z.jsx)(yt.b.Item.Meta,{title:Object(Z.jsxs)("div",{className:"item-meta-data",children:[Object(Z.jsx)("span",{className:"item-data-key",children:"ID:"}),Object(Z.jsx)("span",{className:"item-data-value",children:e.id})]}),description:e.description}),Object(Z.jsxs)("div",{className:"item-data",children:[Object(Z.jsx)("span",{className:"item-data-key",children:"Amount:"}),Object(Z.jsxs)("span",{className:"item-data-value",children:[e.amount.toLocaleString()," VND"]})]}),Object(Z.jsxs)("div",{className:"item-data",children:[Object(Z.jsx)("span",{className:"item-data-key",children:"Created at:"}),Object(Z.jsx)("span",{className:"item-data-value",children:a(e.created_at)})]})]},e.id)}})})}}]),n}(a.Component),Ct=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).formatCreatedAt=function(e){var t=Oe()(e).format("YYYY-MM-DD HH:mm:ss");return null!==e&&"Invalid date"!==t||(t="Not found created time"),t},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.orders,n=e.pendingFetchOrders,a=e.transactions,r=e.pendingFetchTransactions;return Object(Z.jsxs)(gt.a,{className:"user-tabs",children:[Object(Z.jsx)(gt.a.TabPane,{tab:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(mt.a,{})," Transactions"]}),className:"tab-item",children:Object(Z.jsx)(Nt,{pending:r,dataSource:a,formatCreatedAt:this.formatCreatedAt})},"tab-transactions"),Object(Z.jsx)(gt.a.TabPane,{tab:Object(Z.jsxs)("span",{children:[Object(Z.jsx)(Ot.a,{})," Orders"]}),className:"tab-item",children:Object(Z.jsx)(kt,{pending:n,dataSource:t,formatCreatedAt:this.formatCreatedAt})},"tab-orders")]})}}]),n}(a.Component),wt=n(119),_t=n(71),It=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.pendingFetchGeneral,a=e.orders,r=e.pendingFetchOrders,c=e.transactions,s=e.pendingFetchTransactions,i=e.generalMenu;return Object(Z.jsx)("div",{className:"features feature-user",children:Object(Z.jsxs)(wt.a,{gutter:24,className:"user-detail",children:[Object(Z.jsx)(_t.a,{xs:24,md:8,children:Object(Z.jsx)(vt,{user:t,pendingFetchGeneral:n,generalMenu:i})}),Object(Z.jsx)(_t.a,{xs:24,md:16,children:Object(Z.jsx)(Ct,{orders:a,pendingFetchOrders:r,transactions:c,pendingFetchTransactions:s})})]})})}}]),n}(a.Component),At=n(162),St=je.collection("mst_user");var Tt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.user;return Object(Z.jsx)(It,{user:e.user,pendingFetchGeneral:e.pendingFetchGeneral,orders:e.orders,pendingFetchOrders:e.pendingFetchOrders,transactions:e.transactions,pendingFetchTransactions:e.pendingFetchTransactions,generalMenu:["orders-create","transactions-create"]})}},{key:"componentDidMount",value:function(){var e=this.props.auth,t=this.props.match.params.username,n={headers:{Authorization:"Bearer ".concat(e.token)}};this.props.fetchUserGeneral(t),this.props.fetchUserTransactions(t,n),this.props.fetchUserOrders(t,n)}}]),n}(a.Component);var Et=Object(J.c)((function(e){var t=Object(O.c)("/users/:username");return{auth:e.auth,user:e.user,match:t(e)}}),(function(e){return{fetchUserGeneral:function(t){e(function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(n){var a,r,c,s,i,o;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:T,payload:!0}),t.next=3,be(St.where("username","==",e));case 3:if(null===(a=t.sent).data){t.next=11;break}return t.next=7,de(St.doc(a.data.id).collection("transactions").orderBy("created_at","desc"));case 7:if(r=t.sent,c=0,0===r.error.length){s=Object(At.a)(r.data);try{for(s.s();!(i=s.n()).done;)o=i.value,c+=parseInt(o.amount)}catch(l){s.e(l)}finally{s.f()}}a.data.balance=c;case 11:n((u=a.data,{type:S,payload:u}));case 12:case"end":return t.stop()}var u}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchUserTransactions:function(t,n){e(function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(n){var a,r,c;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:F,payload:!0}),a=[],t.next=4,be(St.where("username","==",e));case 4:if(null===(r=t.sent).data){t.next=10;break}return t.next=8,de(St.doc(r.data.id).collection("transactions").orderBy("created_at","desc"));case 8:0===(c=t.sent).error.length&&(a=c.data);case 10:n({type:E,payload:a});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},fetchUserOrders:function(t,n){e(function(e){return function(){var t=Object(ie.a)(se.a.mark((function t(n){var a,r,c;return se.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:U,payload:!0}),a=[],t.next=4,be(St.where("username","==",e));case 4:if(null===(r=t.sent).data){t.next=10;break}return t.next=8,de(St.doc(r.data.id).collection("orders").orderBy("created_at","desc"));case 8:0===(c=t.sent).error.length&&(a=c.data);case 10:n({type:R,payload:a});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Tt),Ft=n(274),Rt=n(57),Ut=n(471),Lt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.auth,n=t.message,a=t.pending;return Object(Z.jsxs)("div",{className:"feature-login",children:[Object(Z.jsx)("div",{className:"form-message",children:n}),Object(Z.jsxs)(qe.a,{className:"ant-form ant-form-vertical",onFinish:function(t){return e.props.handleLogin(t)},children:[Object(Z.jsx)(qe.a.Item,{name:"username",children:Object(Z.jsx)(Ft.a,{prefix:Object(Z.jsx)(ft.a,{className:"site-form-item-icon"}),placeholder:"Username",size:"large"})}),Object(Z.jsx)(qe.a.Item,{name:"password",children:Object(Z.jsx)(Ft.a.Password,{prefix:Object(Z.jsx)(Ut.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})}),Object(Z.jsx)(qe.a.Item,{children:Object(Z.jsx)(Rt.a,{type:"primary",htmlType:"submit",size:"large",disabled:a,block:!0,children:"Log in"})})]}),Object(Z.jsxs)("div",{className:"form-option",children:["or ",Object(Z.jsx)(Y.a,{to:"/register",children:"Register"})]})]})}}]),n}(a.Component),Dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleLogin=function(t){e.props.login(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=e.id;return null!==t&&void 0!==t?Object(Z.jsx)(X.a,{to:"/users/"+e.username}):Object(Z.jsx)(Lt,{auth:e,handleLogin:this.handleLogin})}}]),n}(a.Component);var Pt=Object(J.c)((function(e){return{auth:e.auth}}),(function(e){return{login:function(t){e(function(e){var t=e.username,n=e.password,a="";return void 0===t||null===t||""===t?a="Username is required.":void 0!==n&&null!==n&&""!==n||(a="Password is required."),function(){var e=Object(ie.a)(se.a.mark((function e(r){var c,s;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(xe()),""!==a){e.next=7;break}return e.next=4,be(fe.where("username","==",t));case 4:c=e.sent,null===(s=c.data)?a="Not found "+t+".":!1===me.verify(n,s.password)?a="Password incorrect.":r(ge(s));case 7:r(ve(a));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(t))}}}))(Dt),Mt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.message;return Object(Z.jsxs)("div",{className:"feature-login",children:[Object(Z.jsx)("div",{className:"form-message",children:t}),Object(Z.jsxs)(qe.a,{className:"ant-form ant-form-vertical",onFinish:function(t){return e.props.handleRegister(t)},children:[Object(Z.jsx)(qe.a.Item,{name:"username",children:Object(Z.jsx)(Ft.a,{prefix:Object(Z.jsx)(ft.a,{className:"site-form-item-icon"}),placeholder:"Username",size:"large"})}),Object(Z.jsx)(qe.a.Item,{name:"full_name",children:Object(Z.jsx)(Ft.a,{prefix:Object(Z.jsx)(ft.a,{className:"site-form-item-icon"}),placeholder:"Full name",size:"large"})}),Object(Z.jsx)(qe.a.Item,{name:"password",children:Object(Z.jsx)(Ft.a.Password,{prefix:Object(Z.jsx)(Ut.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",size:"large"})}),Object(Z.jsx)(qe.a.Item,{children:Object(Z.jsx)(Rt.a,{type:"primary",htmlType:"submit",size:"large",disabled:this.props.pending,block:!0,children:"Register"})})]}),Object(Z.jsxs)("div",{className:"form-option",children:["or ",Object(Z.jsx)(Y.a,{to:"/login",children:"Login"})]})]})}}]),n}(a.Component),Gt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleRegister=function(t){e.props.register(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.auth,t=e.message,n=e.pending;return Object(Z.jsx)(Mt,{message:t,pending:n,handleRegister:this.handleRegister})}}]),n}(a.Component);var zt=Object(J.c)((function(e){return{auth:e.auth}}),(function(e){return{register:function(t){e(function(e){var t=e.username,n=e.full_name,a=e.password,r="";return void 0===t||null===t||""===t?r="Username is required.":void 0===n||null===n||""===n?r="Full name is required.":void 0!==a&&null!==a&&""!==a||(r="Password is required."),function(){var n=Object(ie.a)(se.a.mark((function n(c){var s;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c(xe()),""!==r){n.next=17;break}return n.next=4,be(fe.where("username","==",t));case 4:if(null===n.sent.data){n.next=10;break}r=t+" already exist.",n.next=14;break;case 10:return n.next=12,he(fe,{username:e.username,full_name:e.full_name,password:me.generate(a),role:"",created_at:Oe()().format()});case 12:s=n.sent,r=0===s.error.length?"Register success.":s.error;case 14:c(Ne(r)),n.next=18;break;case 17:c(Ne(r));case 18:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t))}}}))(Gt),Ht=n(465),Kt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.code;return Object(Z.jsx)(Ht.a,{status:e,title:e,subTitle:"Sorry, you are not authorized to access this page.",extra:Object(Z.jsx)(Rt.a,{type:"primary",children:Object(Z.jsx)(Y.a,{to:"/",children:"Back Home"})})})}}]),n}(a.Component),Vt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e,t=void 0!==this.props.code?this.props.code:"500";switch(t){case"403":e="Sorry, you are not authorized to access this page.";break;case"500":e="Sorry, something went wrong.";break;case"404":default:t="404",e="Sorry, the page you visited does not exist."}return Object(Z.jsx)("div",{className:"features feature-exceptions",children:Object(Z.jsx)(Kt,{code:t,message:e})})}}]),n}(a.Component),Bt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.router.location.pathname.replace("/errors/","");return Object(Z.jsx)(Vt,{code:e})}}]),n}(a.Component);var qt=Object(J.c)((function(e){return{router:e.router}}),{})(Bt),Wt=n(462),Jt=n(472),Xt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){for(var e=this.props,t=e.users,n=e.pendingFetch,a=e.pendingOrderMulti,r=this.props,c=r.onChange,s=r.onChangeAmount,i=r.getNoteCashIn,o=r.onFinish,u=r.onCancel,l=r.onOk,j=this.props,d=j.targetKey,b=j.amount,h=j.description,p=j.modalVisible,O=[],m=0;m<t.length;m++)O.push({key:t[m].username});var f=0===d.length||b<=0;return Object(Z.jsx)("div",{className:"features feature-order-lunch",children:Object(Z.jsxs)("div",{className:"order-lunch-create",children:[Object(Z.jsx)(xt.a,{title:Object(Z.jsxs)("div",{children:[Object(Z.jsx)(Jt.a,{})," Order lunch"]}),children:Object(Z.jsxs)(qe.a,{className:"ant-form ant-form-vertical order-lunch-form",onFinish:function(){return o()},children:[Object(Z.jsx)(wt.a,{gutter:24,children:Object(Z.jsxs)(_t.a,{xs:24,md:12,children:[Object(Z.jsx)(qe.a.Item,{name:"amount",children:Object(Z.jsx)(Ft.a,{type:"number",value:b,onChange:function(e){return s(e)},placeholder:"Amount",size:"large"})}),Object(Z.jsx)(qe.a.Item,{name:"description",children:Object(Z.jsx)(Ft.a,{value:h,placeholder:"Description",size:"large"})})]})}),Object(Z.jsx)(wt.a,{className:"order-lunch-form-transfer",children:Object(Z.jsx)(_t.a,{xs:24,md:24,children:!0===n?Object(Z.jsx)(Ke,{}):Object(Z.jsx)(Wt.a,{dataSource:O,targetKeys:d,onChange:c,oneWay:!0,showSelectAll:!0,render:function(e){return e.key},listStyle:{width:"100%",height:500}})})}),Object(Z.jsx)(wt.a,{children:Object(Z.jsx)(_t.a,{xs:{span:24,offset:0},md:{span:8,offset:8},className:"button-order",children:Object(Z.jsx)(qe.a.Item,{children:Object(Z.jsx)(Rt.a,{type:"primary",htmlType:"submit",size:"large",disabled:f,loading:a,block:!0,children:"Order Lunch"})})})}),Object(Z.jsx)(wt.a,{children:Object(Z.jsx)("div",{className:"note-cash-in",children:i()})})]})}),Object(Z.jsx)(Qe,{visible:p,onCancel:u,onOk:l,message:"Are you sure ?"})]})})}}]),n}(a.Component),Yt=je.collection("mst_user");function Qt(e){return{type:D,payload:e}}function Zt(e,t,n,a,r){return $t.apply(this,arguments)}function $t(){return($t=Object(ie.a)(se.a.mark((function e(t,n,a,r,c){var s,i,o,u,l,j,d,b;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s="",i=a/n.length,o=le.batch(),u=Object(At.a)(n);try{for(u.s();!(l=u.n()).done;)j=l.value,d=t.doc(j).collection("orders").doc(),b=t.doc(j).collection("transactions").doc(),o.set(d,{amount:i,created_at:r,description:c}),o.set(b,{amount:0-i,created_at:r,description:"Payment order "+d.id})}catch(h){u.e(h)}finally{u.f()}return e.next=7,o.commit().then((function(){s="OK"})).catch((function(e){s=e.message}));case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){return{type:M,payload:e}}var tn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).onFinish=function(){a.setState(Object(m.a)(Object(m.a)({},a.state),{},{modalVisible:!0}))},a.onCancel=function(){a.setState(Object(m.a)(Object(m.a)({},a.state),{},{modalVisible:!1}))},a.onOk=function(){var e=a.state,t=e.targetKey,n=e.amount,r=e.description;a.props.insertMulti(t,n,r),a.onCancel()},a.onChange=function(e){a.setState(Object(m.a)(Object(m.a)({},a.state),{},{targetKey:e}))},a.onChangeAmount=function(e){a.setState(Object(m.a)(Object(m.a)({},a.state),{},{amount:e.currentTarget.value}))},a.getNoteCashIn=function(){var e=a.state,t=e.amount,n=e.targetKey;return n.length>0&&!1===isNaN(parseInt(t))?"(*) Each user cash in about ~ "+(a.state.amount/n.length).toLocaleString()+" VND":0===n.length?"(*) Have not users selected":"(*) Amount invalid"},a.state={targetKey:[],selectedKeys:[],amount:null,description:"",modalVisible:!1},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.orderLunch,t=e.users,n=e.pendingFetch,a=e.pendingOrderMulti;return Object(Z.jsx)(Xt,Object(m.a)({users:t,pendingFetch:n,pendingOrderMulti:a,onChange:this.onChange,onChangeAmount:this.onChangeAmount,getNoteCashIn:this.getNoteCashIn,onFinish:this.onFinish,onCancel:this.onCancel,onOk:this.onOk},this.state))}},{key:"componentDidMount",value:function(){this.props.fetchUser()}}]),n}(a.Component);var nn=Object(J.c)((function(e){return{orderLunch:e.orderLunch}}),(function(e){return{fetchUser:function(){e(function(){var e=Object(ie.a)(se.a.mark((function e(t){var n,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t({type:P,payload:null}),e.next=4,de(Yt.orderBy("created_at"));case 4:0===(a=e.sent).error.length&&(n=a.data),t(Qt(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},insertMulti:function(t,n,a){e(function(e,t,n){var a=(new Date).toISOString();return null!==n&&""!==n&&void 0!==n||(n="Order "+a),function(){var r=Object(ie.a)(se.a.mark((function r(c){var s,i,o,u,l,j,d;return se.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s="",Xe(),c({type:G,payload:null}),0!==e.length){r.next=7;break}s="Have not users selected",r.next=30;break;case 7:if(0!==t&&""!==t&&null!==t){r.next=11;break}s="Amount invalid",r.next=30;break;case 11:return r.next=13,de(Yt.where("username","in",e));case 13:if(i=r.sent,o=i.data,0!==(u=i.error).length){r.next=29;break}if(l=o.map((function(e){return e.username})),0!==(j=e.filter((function(e){return-1===l.indexOf(e)}))).length){r.next=26;break}return d=o.map((function(e){return e.id})),r.next=23,Zt(Yt,d,t,a,n);case 23:s=r.sent,r.next=27;break;case 26:s=j.toString()+" not found.";case 27:r.next=30;break;case 29:s=u;case 30:c(en(s)),"OK"===s?We.b.success("Successfully"):Je(s);case 32:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(t,n,a))}}}))(tn),an=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsxs)(X.d,{children:[Object(Z.jsx)(Ue,{path:"/login",layout:"Auth",children:Object(Z.jsx)(Pt,{})}),Object(Z.jsx)(Ue,{path:"/register",layout:"Auth",children:Object(Z.jsx)(zt,{})}),Object(Z.jsx)(Ue,{path:"/errors/:code",layout:"App",children:Object(Z.jsx)(qt,{layout:"App"})}),Object(Z.jsx)(Ue,{path:"/",layout:"App",exact:!0,children:Object(Z.jsx)(ot,{})}),Object(Z.jsx)(Ue,{path:"/contact",layout:"App",children:Object(Z.jsx)(jt,{})}),Object(Z.jsx)(Ue,{path:"/about",layout:"App",children:Object(Z.jsx)(ht,{})}),Object(Z.jsx)(Ue,{path:"/users/:id",layout:"App",exact:!0,children:Object(Z.jsx)(Et,{})}),Object(Z.jsx)(De,{path:"/order-lunch",layout:"App",exact:!0,roles:["admin"],children:Object(Z.jsx)(nn,{})}),Object(Z.jsx)(Ue,{path:"*",children:Object(Z.jsx)(qt,{code:404})})]})}}]),n}(a.Component),rn=(n(457),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(Z.jsx)(J.a,{store:W,children:Object(Z.jsx)(O.a,{history:p,children:Object(Z.jsx)(an,{})})})}}]),n}(a.Component));s.a.render(Object(Z.jsx)(r.a.StrictMode,{children:Object(Z.jsx)(rn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[458,1,2]]]);
//# sourceMappingURL=main.d6a83fc5.chunk.js.map